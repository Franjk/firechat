(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[1],{24:function(e,t,r){},25:function(e,t,r){},30:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(15),a=r.n(c),s=(r(24),r(25),r(31),r(26),r(6)),i=r(14),o=r.n(i),u=r(17),b=r(18),j=r(3),d=function(e){var t=Object(s.b)(),r=e.message,n=r.text,c=r.uid,a=r.photoURL,i=c===t.currentUser.uid?"sent":"received";return Object(j.jsxs)("div",{className:"message ".concat(i),children:[Object(j.jsx)("img",{src:a||"https://api.adorable.io/avatars/23/abott@adorable.png",alt:"profile"}),Object(j.jsx)("p",{children:n})]})};var p=function(){var e,t=Object(n.useRef)(),r=Object(s.c)().firebase_,c=Object(s.b)(),a=Object(s.d)().collection("messages"),i=a.orderBy("createdAt").limit(25),p=Object(s.e)(i),O=Object(n.useState)(""),h=Object(b.a)(O,2),l=h[0],f=h[1],m=function(){var e=Object(u.a)(o.a.mark((function e(n){var s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s=c.currentUser,i=s.uid,u=s.photoURL,e.next=4,a.add({text:l,createdAt:r.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:u});case 4:f(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("main",{children:[null===(e=p.data)||void 0===e?void 0:e.map((function(e){return Object(j.jsx)(d,{message:e},e.NO_ID_FIELD)})),Object(j.jsx)("span",{ref:t})]}),Object(j.jsxs)("form",{onSubmit:m,children:[Object(j.jsx)("input",{value:l,onChange:function(e){return f(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"\u25b6"})]})]})},O=function(){var e=Object(s.c)().firebase_,t=Object(s.b)();return Object(j.jsx)("button",{onClick:function(){var r=new e.auth.GoogleAuthProvider;t.signInWithPopup(r)},children:"Sign in with Google"})},h=function(){var e=Object(s.b)();return e.currentUser&&Object(j.jsx)("button",{onClick:function(){return e.signOut()},children:"Sign Out"})};var l=function(){var e=Object(s.f)().data;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"\u269b\ufe0f\ud83d\udd25\ud83d\udcac"}),Object(j.jsx)(h,{})]}),Object(j.jsx)("section",{children:e?Object(j.jsx)(p,{}):Object(j.jsx)(O,{})})]})};a.a.render(Object(j.jsx)(s.a,{firebaseConfig:{apiKey:"AIzaSyB3HXGtiOIYb9EAXUK0osUuAIBtSPUxKtU",authDomain:"fir-superchat-6ad11.firebaseapp.com",projectId:"fir-superchat-6ad11",storageBucket:"fir-superchat-6ad11.appspot.com",messagingSenderId:"663554768694",appId:"1:663554768694:web:2b7b4e18d7e97d5e543d97",measurementId:"G-J5M4TJ715R"},children:Object(j.jsx)(l,{})}),document.getElementById("root"))}},[[30,2,3]]]);
//# sourceMappingURL=main.eeeaf3f5.chunk.js.map